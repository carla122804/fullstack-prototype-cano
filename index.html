<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Full-Stack App (Student Build)</title>
  <!-- Bootstrap 5 CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- NAVIGATION BAR -->
  <nav class="navbar">
    <div class="navbar-container">
      <a href="#" class="navbar-brand">Full-Stack App</a>
      
      <div class="navbar-menu">
        <!-- Show when NOT logged in -->
        <div id="authLinks" class="auth-links">
          <a href="#" onclick="goToPage('login'); return false;" class="nav-link">Login</a>
          <a href="#" onclick="goToPage('register'); return false;" class="nav-link">Register</a>
        </div>

        <!-- Show when logged in -->
        <div id="userDropdown" class="user-dropdown" style="display: none;">
          <button class="dropdown-toggle" onclick="toggleDropdown()">
            <span id="usernameDisplay">User</span> 
          </button>
          
          <div id="dropdownMenu" class="dropdown-menu" style="display: none;">
            <a href="#" onclick="goToPage('profile'); return false;" class="dropdown-item">Profile</a>
            <a href="#" onclick="goToPage('requests'); return false;" class="dropdown-item">My Requests</a>
            
            <!-- Admin only -->
            <div id="adminLinks" style="display: none;">
              <hr style="margin: 5px 0; border: none; border-top: 1px solid #eee;">
              <a href="#" onclick="goToPage('employees'); return false;" class="dropdown-item">Employees</a>
              <a href="#" onclick="goToPage('departments'); return false;" class="dropdown-item">Departments</a>
              <a href="#" onclick="goToPage('accounts'); return false;" class="dropdown-item">Accounts</a>
            </div>
            
            <hr style="margin: 5px 0; border: none; border-top: 1px solid #eee;">
            <a href="#" onclick="userLogout(); return false;" class="dropdown-item" style="color: #dc3545;">Logout</a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- MAIN CONTAINER -->
  <div class="container">
    
    <!-- HOME PAGE -->
    <div id="homePage" class="page" style="display: block;">
      <h1>Welcome to Full-Stack App</h1>
      <p>A static prototype before backend integration. Simulates:</p>
      
      <ul>
        <li>Email registration + fake verification</li>
        <li>Login with JWT-like token simulation</li>
        <li>Role-based UI (Admin/User)</li>
        <li>CRUD for Employees, Departments, Requests</li>
      </ul>

      <div class="info-box">
        ⚠️ <strong>Note:</strong> All data is stored in localStorage. Refresh to reset.
      </div>

      <button class="btn btn-primary btn-large" onclick="goToPage('register')">Get Started →</button>
    </div>

    <!-- REGISTER PAGE -->
    <div id="registerPage" class="page" style="display: none;">
      <h1>Register</h1>
      
      <div class="form-container">
        <div class="form-group">
          <label>First Name</label>
          <input type="text" id="regFirstName" />
        </div>

        <div class="form-group">
          <label>Last Name</label>
          <input type="text" id="regLastName" />
        </div>

        <div class="form-group">
          <label>Email</label>
          <input type="email" id="regEmail" />
        </div>

        <div class="form-group">
          <label>Password</label>
          <input type="password" id="regPassword" />
        </div>

        <div class="form-buttons">
          <button class="btn btn-success" onclick="handleRegister()">Sign Up</button>
          <button class="btn btn-secondary" onclick="goToPage('home')">Cancel</button>
        </div>
      </div>
    </div>

    <!-- VERIFY EMAIL PAGE -->
    <div id="verifyPage" class="page" style="display:none;">
      <h1>Verify Your Email</h1>

      <div class="info-box">
        ✔ A verification link has been sent.
      </div>

      <button class="btn btn-success" onclick="simulateVerification()">
        Simulate Email Verification
      </button>

      <button class="btn btn-secondary" onclick="goToPage('login')">
        Go to Login
      </button>
    </div>

    <!-- LOGIN PAGE -->
    <div id="loginPage" class="page" style="display: none;">
      <h1>Login</h1>
      
      <div class="form-container">
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="loginEmail" />
        </div>

        <div class="form-group">
          <label>Password</label>
          <input type="password" id="loginPassword" />
        </div>

        <div class="form-buttons">
          <button class="btn btn-primary" onclick="handleLogin()">Login</button>
          <button class="btn btn-secondary" onclick="goToPage('home')">Cancel</button>
        </div>
      </div>
    </div>

    <!-- PROFILE PAGE -->
    <div id="profilePage" class="page" style="display: none;">
      <h1>My Profile</h1>
      
      <div class="card">
        <p><strong>Name:</strong> <span id="profileName"></span></p>
        <p><strong>Email:</strong> <span id="profileEmail"></span></p>
        <p><strong>Role:</strong> <span id="profileRole"></span></p>
      </div>

      <button class="btn btn-primary" onclick="showEditProfileModal()">Edit Profile</button>
    </div>

    <!-- EDIT PROFILE MODAL -->
    <div id="editProfileModal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Edit Profile</h2>
          <button class="modal-close" onclick="closeEditProfileModal()">&times;</button>
        </div>

        <div class="modal-body">
          <div class="form-group">
            <label>First Name</label>
            <input type="text" id="editFirstName" />
          </div>

          <div class="form-group">
            <label>Last Name</label>
            <input type="text" id="editLastName" />
          </div>
        </div>

        <div class="modal-footer">
          <button class="btn btn-primary" onclick="handleEditProfile()">Save Changes</button>
          <button class="btn btn-secondary" onclick="closeEditProfileModal()">Cancel</button>
        </div>
      </div>
    </div>

    <div id="editProfileOverlay" class="modal-overlay" style="display: none;" onclick="closeEditProfileModal()"></div>

    <!-- MY REQUESTS PAGE -->
    <div id="requestsPage" class="page" style="display: none;">
      <div class="page-header">
        <h1>My Requests</h1>
        <button class="btn btn-success" onclick="showRequestModal()">+ New Request</button>
      </div>

      <div id="requestsList" style="margin-top: 20px;">
        <p style="color: #999;">Loading requests...</p>
      </div>
    </div>

    <!-- REQUEST MODAL -->
    <div id="requestModal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2>New Request</h2>
          <button class="modal-close" onclick="closeRequestModal()">&times;</button>
        </div>

        <div class="modal-body">
          <div class="form-group">
            <label>Type</label>
            <select id="reqType">
              <option value="">-- Select Type --</option>
              <option value="Equipment">Equipment</option>
              <option value="Leave">Leave</option>
              <option value="Resources">Resources</option>
            </select>
          </div>

          <div class="form-group">
            <label>Items</label>
            <div id="itemsList"></div>
            <button class="btn btn-success btn-sm" onclick="addItemField()" style="margin-top: 10px;">+ Add Item</button>
          </div>
        </div>

        <div class="modal-footer">
          <button class="btn btn-primary" onclick="handleAddRequest()">Submit Request</button>
          <button class="btn btn-secondary" onclick="closeRequestModal()">Cancel</button>
        </div>
      </div>
    </div>

    <!-- MODAL OVERLAY -->
    <div id="modalOverlay" class="modal-overlay" style="display: none;" onclick="closeRequestModal()"></div>

    <!-- EMPLOYEES PAGE -->
    <div id="employeesPage" class="page" style="display: none;">
      <div class="page-header">
        <h1>Employees</h1>
        <button class="btn btn-success" onclick="showEmployeeForm()">+ Add Employee</button>
      </div>

      <div id="employeeForm" class="form-container" style="display: none; margin-top: 20px;">
        <h3 id="empFormTitle">Add Employee</h3>
        <div class="form-group">
          <label>Employee ID</label>
          <input type="text" id="empID" />
        </div>

        <div class="form-group">
          <label>User Email</label>
          <input type="email" id="empEmail" placeholder="Enter existing user email" />
        </div>

        <div class="form-group">
          <label>Position</label>
          <input type="text" id="empPosition" />
        </div>

        <div class="form-group">
          <label>Department</label>
          <select id="empDepartment">
            <option value="">-- Select Department --</option>
          </select>
        </div>

        <div class="form-group">
          <label>Hire Date</label>
          <input type="date" id="empHireDate" />
        </div>

        <div class="form-buttons">
          <button class="btn btn-primary" onclick="handleAddEmployee()">Save</button>
          <button class="btn btn-secondary" onclick="hideEmployeeForm()">Cancel</button>
        </div>
      </div>

      <table class="data-table" style="margin-top: 20px;">
        <thead>
          <tr>
            <th>ID</th>
            <th>User</th>
            <th>Position</th>
            <th>Dept</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="employeesTable">
          <tr>
            <td colspan="5" style="text-align: center; color: #999;">No employees</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- DEPARTMENTS PAGE -->
    <div id="departmentsPage" class="page" style="display: none;">
      <div class="page-header">
        <h1>Departments</h1>
        <button class="btn btn-success" onclick="showDepartmentForm()">+ Add Department</button>
      </div>

      <div id="departmentForm" class="form-container" style="display: none; margin-top: 20px;">
        <h3>Add Department</h3>
        <div class="form-group">
          <label>Department Name</label>
          <input type="text" id="deptName" />
        </div>

        <div class="form-group">
          <label>Description</label>
          <textarea id="deptDesc"></textarea>
        </div>

        <div class="form-buttons">
          <button class="btn btn-primary" onclick="handleAddDepartment()">Save</button>
          <button class="btn btn-secondary" onclick="hideDepartmentForm()">Cancel</button>
        </div>
      </div>

      <table class="data-table" style="margin-top: 20px;">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="departmentsTable">
          <tr>
            <td colspan="3" style="text-align: center; color: #999;">No departments</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- ACCOUNTS PAGE -->
    <div id="accountsPage" class="page" style="display: none;">
      <div class="page-header">
        <h1>Accounts</h1>
        <button class="btn btn-success" onclick="showAddAccountForm()">+ Add Account</button>
      </div>

      <div id="addAccountForm" class="form-container" style="display: none; margin-top: 20px;">
        <h3>Add New Account</h3>
        <div class="form-group">
          <label>First Name</label>
          <input type="text" id="accFirstName" />
        </div>

        <div class="form-group">
          <label>Last Name</label>
          <input type="text" id="accLastName" />
        </div>

        <div class="form-group">
          <label>Email</label>
          <input type="email" id="accEmail" />
        </div>

        <div class="form-group">
          <label>Password</label>
          <input type="password" id="accPassword" placeholder="Leave empty to keep current password when editing" />
        </div>

        <div class="form-group">
          <label>Role</label>
          <select id="accRole">
            <option value="user">User</option>
            <option value="admin">Admin</option>
          </select>
        </div>

        <div class="form-group">
          <div style="display: flex; align-items: center; gap: 8px;">
            <input type="checkbox" id="accVerified" style="width: 18px; height: 18px; cursor: pointer;" />
            <label style="margin: 0; cursor: pointer;">Verified</label>
          </div>
        </div>

        <div class="form-buttons">
          <button class="btn btn-primary" onclick="handleAddAccount()">Save</button>
          <button class="btn btn-secondary" onclick="hideAddAccountForm()">Cancel</button>
        </div>
      </div>

      <table class="data-table" style="margin-top: 20px;">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Verified</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="accountsTable">
          <tr>
            <td colspan="5" style="text-align: center; color: #999;">No accounts</td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="script.json"></script>
</body>
</html>

